<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="mysm_generate_pif_report_wizard_form_view" model="ir.ui.view">
            <field name="name">mysm.generate.pif.report.wizard.form.view</field>
            <field name="model">generate.pif.report.wizard</field>
            <field name="arch" type="xml">
                <form string="Generate PIF Report">
                    <sheet>
                        <field name="domain_product_ids" readonly="1" invisible="1"/>
                        <field name="product_ids" options="{'no_create': True, 'no_create_edit': True}" domain="[('id', 'in', domain_product_ids)]"/>
                    </sheet>
                    <footer>
                        <button string="Print" type="object" name="button_print" class="btn-primary" data-hotkey="p"/>
                        <button string="Cancel" special="cancel" data-hotkey="z"/>
                    </footer>
                </form>
            </field>
        </record>
    
        <record id="mysm_generate_pif_report_wizard_action" model="ir.actions.act_window">
            <field name="name">Generate PIF Report</field>
            <field name="res_model">generate.pif.report.wizard</field>
            <field name="view_mode">form</field>
        </record>

        <record model="ir.actions.server" id="action_view_generate_pif_report_wizard_rm">
            <field name="name">Generate PIF for Raw Materials</field>
            <field name="model_id" ref="mrp.model_mrp_bom"/>
            <field name="binding_model_id" ref="mrp.model_mrp_bom" />
            <field name="binding_view_types">form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4,ref('stock.group_stock_user'))]"/>
            <field name="code">
                if records:
                    action = records.open_generate_pif_report_wizard('raw_material')
                </field>
        </record>

        <record model="ir.actions.server" id="action_view_generate_pif_report_wizard_pp">
            <field name="name">Generate PIF for Packaging Packs</field>
            <field name="model_id" ref="mrp.model_mrp_bom"/>
            <field name="binding_model_id" ref="mrp.model_mrp_bom" />
            <field name="binding_view_types">form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4,ref('stock.group_stock_user'))]"/>
            <field name="code">
                if records:
                    action = records.open_generate_pif_report_wizard('packaging')
                </field>
        </record>

        <record model="ir.actions.server" id="action_view_generate_pif_report_for_product">
            <field name="name">Generate PIF Report</field>
            <field name="model_id" ref="product.model_product_template"/>
            <field name="binding_model_id" ref="product.model_product_template" />
            <field name="binding_view_types">list,form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4,ref('stock.group_stock_user'))]"/>
            <field name="code">
                if records:
                    action = records.generate_pif_report_for_product()
            </field>
        </record>

        <record model="ir.actions.server" id="action_view_generate_pif_report_wizard_frd">
            <field name="name">Generate PIF for Formulation</field>
            <field name="model_id" ref="mrp.model_mrp_bom"/>
            <field name="binding_model_id" ref="mrp.model_mrp_bom" />
            <field name="binding_view_types">form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4,ref('stock.group_stock_user'))]"/>
            <field name="code">
                if records:
                    action = records.generate_report_pif_for_formulation()
                </field>
        </record>

        <record model="ir.actions.server" id="action_view_generate_mo_pif_report_wizard">
            <field name="name">Generate PIF for Finished Product</field>
            <field name="model_id" ref="mrp.model_mrp_production"/>
            <field name="binding_model_id" ref="mrp.model_mrp_production" />
            <field name="binding_view_types">form</field>
            <field name="state">code</field>
            <field name="groups_id" eval="[(4,ref('stock.group_stock_user'))]"/>
            <field name="code">
                if records:
                    action = records.generate_report_mo_pif()
                </field>
        </record>
    </data>
</odoo>